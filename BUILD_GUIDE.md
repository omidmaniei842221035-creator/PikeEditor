# ุฑุงูููุง ุณุงุฎุช ู ุชูุฒุน ูุฑูโุงูุฒุงุฑ
# POS Monitoring System - Build & Distribution Guide

## ๐ ูพุดโูุงุฒูุง (Prerequisites)

### ุจุฑุง ุณุงุฎุช ูุณุฎู ููุฏูุฒ (Windows):
- Node.js ูุณุฎู 20 ุง ุจุงูุงุชุฑ
- npm ุง yarn
- ุฏุณุชุฑุณ ุจู ุงูุชุฑูุช ุจุฑุง ุฏุงูููุฏ ูุงุจุณุชฺฏโูุง

### ุจุฑุง ุณุงุฎุช ูุณุฎู ูฺฉ (macOS):
- ููู ููุงุฑุฏ ุจุงูุง
- Xcode Command Line Tools

### ุจุฑุง ุณุงุฎุช ูุณุฎู ูููฺฉุณ (Linux):
- ููู ููุงุฑุฏ ุจุงูุง  
- ูพฺฉุฌโูุง `build-essential` ู `rpm` (ุงุฎุชุงุฑ)

---

## ๐ ูุฑุงุญู ุณุงุฎุช ูุฑูโุงูุฒุงุฑ

### ูุฑุญูู 1: ูุตุจ ูุงุจุณุชฺฏโูุง
```bash
npm install
```

### ูุฑุญูู 2: ุณุงุฎุช ูุงูโูุง frontend ู backend
```bash
npm run build
```

ุงู ุฏุณุชูุฑ ุฏู ฺฉุงุฑ ุงูุฌุงู ูโุฏูุฏ:
1. ูุงูโูุง React frontend ุฑุง ุจุง Vite build ูโฺฉูุฏ
2. ฺฉุฏ ุณุฑูุฑ ุฑุง ุจุง esbuild bundle ูโฺฉูุฏ

### ูุฑุญูู 3: ฺฉุงููพุงู ฺฉุฏ Electron
```bash
npm run electron:compile
```

ุงู ุฏุณุชูุฑ TypeScript ฺฉุฏ Electron ุฑุง ุจู JavaScript ุชุจุฏู ูโฺฉูุฏ.

### ูุฑุญูู 4: ุณุงุฎุช ูุณุฎู ูุงุจู ุชูุฒุน

#### ููุฏูุฒ (Windows):
```bash
npm run electron:build:win
```

ูุงูโูุง ุฎุฑูุฌ ุฏุฑ ูพูุดู `release/` ุงุฌุงุฏ ูโุดููุฏ:
- ูุงู portable (ุจุฏูู ูุงุฒ ุจู ูุตุจ): `*.exe`
- ูุงู zip: `*.zip`

#### ูฺฉ (macOS):
```bash
npm run electron:build
```

ุฎุฑูุฌ: ูุงู `.dmg` ู `.zip`

#### ูููฺฉุณ (Linux):  
```bash
npm run electron:build
```

ุฎุฑูุฌ: ูุงู `.AppImage` ู `.deb`

---

## ๐ฏ ุณุงุฎุช ุณุฑุน (ฺฉ ูุฑุญููโุง)

ุจุฑุง ุณุงุฎุช ฺฉุงูู ูุฑูโุงูุฒุงุฑ ุฏุฑ ฺฉ ูุฑุญูู:

```bash
# ููุฏูุฒ
npm install && npm run electron:build:win

# ูฺฉ ู ูููฺฉุณ
npm install && npm run electron:build
```

---

## ๐ฆ ุณุงุฎุชุงุฑ ูุงูโูุง ุฎุฑูุฌ

ุจุนุฏ ุงุฒ buildุ ุงู ูุงูโูุง ุงุฌุงุฏ ูโุดููุฏ:

```
release/
โโโ ุณุงูุงูู ูุงูุชูุฑูฺฏ POS-1.0.0-win-x64.exe    # ูุณุฎู portable ููุฏูุฒ
โโโ ุณุงูุงูู ูุงูุชูุฑูฺฏ POS-1.0.0-win-x64.zip    # ูุณุฎู ูุดุฑุฏู ููุฏูุฒ
โโโ ... (ูุงูโูุง ุฏฺฏุฑ ุจุณุชู ุจู ูพูุชูุฑู)
```

---

## ๐พ ุฐุฎุฑูโุณุงุฒ ุฏุงุฏูโูุง

ูุฑูโุงูุฒุงุฑ ุงุฒ **SQLite** ุจุฑุง ุฐุฎุฑูโุณุงุฒ ูุญู ุฏุงุฏูโูุง ุงุณุชูุงุฏู ูโฺฉูุฏ:

### ูุณุฑ ุฏุชุงุจุณ ุฏุฑ ุณุณุชูโูุง ูุฎุชูู:

**ููุฏูุฒ:**
```
C:\Users\[ูุงู ฺฉุงุฑุจุฑ]\AppData\Roaming\ุณุงูุงูู ูุงูุชูุฑูฺฏ POS\pos-system.db
```

**ูฺฉ:**
```
~/Library/Application Support/ุณุงูุงูู ูุงูุชูุฑูฺฏ POS/pos-system.db
```

**ูููฺฉุณ:**
```
~/.config/ุณุงูุงูู ูุงูุชูุฑูฺฏ POS/pos-system.db
```

### ูพุดุชุจุงูโฺฏุฑ ุงุฒ ุฏุงุฏูโูุง:
ุจุฑุง backupุ ฺฉุงูุณุช ูุงู `pos-system.db` ุฑุง ฺฉูพ ฺฉูุฏ.

---

## ๐ง ุชูุธูุงุช ูพุดุฑูุชู

### ุชุบุฑ ูพูุฑุช ุณุฑูุฑ:
ูุงู `electron/main.ts` ุฑุง ูุฑุงุด ฺฉูุฏ:
```typescript
const SERVER_PORT = 5000; // ุชุบุฑ ุจู ูพูุฑุช ุฏูุฎูุงู
```

### ุชุบุฑ ูุณุฑ ุฏุชุงุจุณ:
ุฏุฑ ูุงู `electron/main.ts`:
```typescript
const dbPath = path.join(app.getPath('userData'), 'pos-system.db');
```

---

## ๐ ุฑูุน ูุดฺฉูุงุช ุฑุงุฌ

### ูุดฺฉู: "node-gyp rebuild failed"
**ุฑุงู ุญู:** ูุตุจ `windows-build-tools`:
```bash
npm install --global windows-build-tools
```

### ูุดฺฉู: "Cannot find module 'better-sqlite3'"
**ุฑุงู ุญู:** ุงุทููุงู ุงุฒ ูุตุจ ฺฉุงูู dependencies:
```bash
npm install
npm rebuild better-sqlite3
```

### ูุดฺฉู: ูุฑูโุงูุฒุงุฑ ุจุงุฒ ููโุดูุฏ
**ุฑุงู ุญู:**
1. ฺฺฉ ฺฉูุฏ Antivirus ุขู ุฑุง block ูฺฉุฑุฏู ุจุงุดุฏ
2. ุงุฌุฑุง ุจู ุนููุงู Administrator
3. ูุงฺฏโูุง ุฑุง ุฏุฑ Console ุจุฑุฑุณ ฺฉูุฏ (ุฏุฑ ุญุงูุช dev)

---

## ๐ Code Signing (ุงูุถุง ฺฉุฏ)

ุจุฑุง distribution ุญุฑููโุงุ ูุงุฒ ุจู code signing ุฏุงุฑุฏ:

### ููุฏูุฒ:
ูุงุฒ ุจู ฺฏูุงู (certificate) ุงุฒ ูุฑุฌุน ูุนุชุจุฑ ูุงููุฏ DigiCert

### ูฺฉ:
ูุงุฒ ุจู Apple Developer Account ู certificate

ุจุนุฏ ุงุฒ ุฏุฑุงูุช certificate:
1. ูุงูโูุง certificate ุฑุง ุฏุฑ ูุญู ุงูู ุฐุฎุฑู ฺฉูุฏ
2. ูุชุบุฑูุง ูุญุท ุฑุง ุชูุธู ฺฉูุฏ:

```bash
# Windows
set CSC_LINK=path/to/certificate.pfx
set CSC_KEY_PASSWORD=your_password

# macOS/Linux  
export CSC_LINK=path/to/certificate.p12
export CSC_KEY_PASSWORD=your_password
```

---

## ๐ข ุชูุฒุน ูุฑูโุงูุฒุงุฑ

### ุฑูุด 1: ุชูุฒุน ูุณุชูู ูุงู
- ูุงู `.exe` ุง `.zip` ุฑุง ุจุฑุง ฺฉุงุฑุจุฑุงู ุงุฑุณุงู ฺฉูุฏ
- ฺฉุงุฑุจุฑุงู ูโุชูุงููุฏ ูุณุชููุงู ุงุฌุฑุง ฺฉููุฏ (portable)

### ุฑูุด 2: ุงุฌุงุฏ installer
electron-builder ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ installer ูโุณุงุฒุฏ:
- ููุฏูุฒ: NSIS installer
- ูฺฉ: DMG  
- ูููฺฉุณ: DEB ุง AppImage

### ุฑูุด 3: Auto-update
ุจุฑุง ูุนุงูโุณุงุฒ ุจูโุฑูุฒุฑุณุงู ุฎูุฏฺฉุงุฑุ ูุงุฒ ุจู ุณุฑูุฑ release ุฏุงุฑุฏ.

---

## ๐ ุจูููโุณุงุฒ ุงูุฏุงุฒู ูุงู

ุจุฑุง ฺฉุงูุด ุญุฌู ูุฑูโุงูุฒุงุฑ:

1. **ุญุฐู DevDependencies ุงุฒ bundle:**
   - ุงู ฺฉุงุฑ ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุฏุฑ build ุงูุฌุงู ูโุดูุฏ

2. **ูุดุฑุฏูโุณุงุฒ ุจุง electron-builder:**
```json
"compression": "maximum"
```

3. **ุงุณุชูุงุฏู ุงุฒ asar:**
   - ูุงูโูุง ุฏุฑ ฺฉ archive ูุดุฑุฏู ูโุดููุฏ (ูพุดโูุฑุถ ูุนุงู ุงุณุช)

---

## โก ุญุงูุช Development

ุจุฑุง ุชุณุช ูุญู ูุจู ุงุฒ build:

```bash
# ุงุฌุฑุง ุณุฑูุฑ web
npm run dev

# ุงุฌุฑุง Electron ุฏุฑ ุญุงูุช dev
npm run electron:dev
```

---

## ๐ Checklist ูุจู ุงุฒ Release

- [ ] ุชุณุช ฺฉุงูู ุชูุงู ูุงุจูุชโูุง
- [ ] ุจุฑุฑุณ ุนููฺฉุฑุฏ ุฏุฑ ุณุณุชูโุนุงููโูุง ูุฎุชูู
- [ ] ุชุณุช backup ู restore ุฏุชุงุจุณ
- [ ] ุจุฑุฑุณ performance ุจุง ุฏุงุฏูโูุง ูุงูุน
- [ ] ุขูุงุฏูโุณุงุฒ documentation ุจุฑุง ฺฉุงุฑุจุฑุงู
- [ ] ุชูู ูุงูโูุง ุฑุงูููุง (Help files)
- [ ] Code signing (ุงุฎุชุงุฑ ูู ุชูุตู ูโุดูุฏ)
- [ ] ุขุฒูุงุด ูุตุจ ู ุญุฐู ูุฑูโุงูุฒุงุฑ

---

## ๐ ูุชุฌู

ุจุนุฏ ุงุฒ ุงุฌุฑุง ูููู buildุ ูุฑูโุงูุฒุงุฑ ุดูุง ุขูุงุฏู ุชูุฒุน ุงุณุช!

ูุงูโูุง ููุง ุฏุฑ ูพูุดู `release/` ูุฑุงุฑ ุฏุงุฑูุฏ ู ูโุชูุงูุฏ ุขูโูุง ุฑุง ุจุฑุง ฺฉุงุฑุจุฑุงู ุงุฑุณุงู ฺฉูุฏ.

---

## ๐ ูพุดุชุจุงู

ุฏุฑ ุตูุฑุช ุจุฑูุฒ ูุดฺฉู:
1. ูุงฺฏโูุง console ุฑุง ุจุฑุฑุณ ฺฉูุฏ
2. ูุงูโูุง log ุฏุฑ ูุณุฑ userData ุฑุง ฺฺฉ ฺฉูุฏ
3. ุงุฒ ุขุฎุฑู ูุณุฎู Node.js ุงุณุชูุงุฏู ฺฉูุฏ

---

**ูุณุฎู ุฑุงูููุง:** 1.0.0  
**ุชุงุฑุฎ ุจูโุฑูุฒุฑุณุงู:** {{ current_date }}
